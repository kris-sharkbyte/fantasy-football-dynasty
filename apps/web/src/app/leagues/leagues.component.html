<div class="space-y-8">
  <div class="flex justify-between items-center">
    <h1 class="text-3xl font-bold text-secondary-900">My Leagues</h1>
    <p-button
      label="Create League"
      icon="pi pi-plus"
      routerLink="/leagues/create"
      severity="primary"
      size="large"
    ></p-button>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (league of leagues(); track league.id) {
    <p-card
      [header]="league.name"
      [subheader]="league.description"
      styleClass="league-card cursor-pointer hover:shadow-lg transition-shadow duration-300"
      (click)="navigateToLeague(league.id)"
    >
      <div class="space-y-3">
        <div class="flex items-center justify-between">
          <p-chip [label]="league.teams + ' teams'" icon="pi pi-users"></p-chip>
          <p-badge
            [value]="league.status || 'unknown'"
            [severity]="getStatusSeverity(league.status || '')"
          ></p-badge>
        </div>

        <div class="space-y-2 text-secondary-600">
          <div class="flex items-center gap-2">
            <i class="pi pi-calendar text-primary-500"></i>
            <span>Phase: {{ league.phase }}</span>
          </div>
          <div class="flex items-center gap-2">
            <i class="pi pi-calendar-plus text-primary-500"></i>
            <span>Year: {{ league.currentYear }}</span>
          </div>
          @if (league.owner) {
          <div class="flex items-center gap-2">
            <i class="pi pi-user text-primary-500"></i>
            <span>Owner: {{ league.owner }}</span>
          </div>
          }
        </div>

        <div class="flex items-center gap-2">
          <p-chip [label]="league.phase" icon="pi pi-flag"></p-chip>
        </div>
      </div>

      <ng-template pTemplate="footer">
        <div class="flex gap-2">
          <p-button
            label="View League"
            icon="pi pi-external-link"
            [routerLink]="['/leagues', league.id]"
            severity="secondary"
            size="small"
            (click)="$event.stopPropagation()"
          ></p-button>
          <p-button
            label="Manage"
            icon="pi pi-cog"
            severity="secondary"
            outlined="true"
            size="small"
            (click)="$event.stopPropagation()"
          ></p-button>
        </div>
      </ng-template>
    </p-card>
    }
  </div>

  @if (leagues().length === 0) {
  <div class="text-center py-12">
    <div class="mb-6">
      <i class="pi pi-trophy text-6xl text-secondary-400"></i>
    </div>
    <h3 class="text-xl font-semibold text-secondary-700 mb-2">
      No Leagues Yet
    </h3>
    <p class="text-lg text-secondary-600 mb-6">
      You haven't joined any leagues yet. Create your first dynasty league to
      get started!
    </p>
    <p-button
      label="Create Your First League"
      icon="pi pi-plus"
      routerLink="/leagues/create"
      severity="primary"
      size="large"
    ></p-button>
  </div>
  }
</div>
