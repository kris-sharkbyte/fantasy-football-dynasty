<div>
  <app-league-header (openEditTeam)="openEditTeamModal()"></app-league-header>

  <div class="league-content">
    <div class="info-section">
      <h2>League Information</h2>
      <p>League details and management will go here...</p>
    </div>

    <!-- Free Agency Status Section -->
    @if (isFAWeekPhase() || isOpenFAPhase()) {
    <div class="fa-status-section">
      <h3>🏈 Free Agency Status</h3>
      @if (isFAWeekPhase()) {
      <div class="fa-week-info">
        <p>
          <strong>Week {{ currentFAWeek()?.weekNumber || 0 }}</strong> -
          {{ weekStatus() }}
        </p>
        <p>Teams Ready: {{ readyTeamsCount() }} / {{ totalTeamsCount() }}</p>
        @if (canManageLeague()) {
        <div class="commissioner-controls">
          <button
            class="btn-primary"
            (click)="advanceFAWeek()"
            [disabled]="!isReadyToAdvance()"
          >
            @if (isReadyToAdvance()) { 🚀 Advance to Next Week } @else { ⏳
            Waiting for Teams ({{ readyTeamsCount() }}/{{ totalTeamsCount() }})
            }
          </button>
        </div>
        }
      </div>
      } @else if (isOpenFAPhase()) {
      <div class="open-fa-info">
        <p>
          <strong>Open Free Agency</strong> - Players can be signed immediately
        </p>
      </div>
      }
    </div>
    }

    <!-- Settings Section -->
    @if (canManageLeague()) {
    <div class="settings-section">
      <button class="btn-secondary" (click)="showSettings()">
        ⚙️ League Settings
      </button>
    </div>
    }
  </div>
</div>

<app-edit-team-modal
  [visible]="editTeamModalVisible"
  (visibleChange)="onEditTeamModalVisibleChange($event)"
></app-edit-team-modal>

@if (showSettingsView) { @if (league()) {
<app-league-settings [league]="league()!"></app-league-settings>
} }
