showPlayerSelection() {{ showPlayerSelection() }}
<div class="top-container" [class.minimized]="showPlayerSelection()">
  @if (isLoading()) {
  <div class="loading-container">
    <div class="loading-spinner"></div>
    <p>Loading draft...</p>
  </div>
  } @else if (error()) {
  <div class="error-container">
    <p>{{ error() }}</p>
  </div>
  } @else {
  <div class="draft-container">
    <!-- Draft Board -->
    <div class="draft-board">
      <app-draft-board
        [teams]="teams()"
        [draftPicks]="draftPicks()"
        [availablePlayers]="availablePlayers()"
        [currentPick]="currentPick()"
        [isMyTurn]="isMyTurn()"
        [currentUserTeamId]="getCurrentUserTeamId()"
        [canMakePick]="canMakePick()"
        [numberOfTeams]="numberOfTeams()"
        [totalRounds]="totalRounds()"
        (claimTeam)="claimTeam($event)"
        (openPlayerSelection)="openPlayerSelection($event)"
      ></app-draft-board>

      <!-- Draft Controls -->
      <!-- <app-draft-controls
        [isCommissioner]="isCommissioner()"
        [draftState]="draftState()"
        (startDraft)="initializeDraft()"
        (pauseDraft)="pauseDraft()"
      ></app-draft-controls> -->

      <!-- Toggle Button for Player Selection -->
    </div>
  </div>
  }
</div>

<div class="bottom-container" [class.minimized]="!showPlayerList()">
  <!-- Player Selection Sidebar -->
  <app-player-selection
    [selectedPick]="selectedPick()"
    [availablePlayers]="availablePlayers()"
    [selectedPlayer]="selectedPlayer()"
    [searchQuery]="searchQuery()"
    [selectedPosition]="selectedPosition()"
    [canMakePick]="canMakePick()"
    [draftState]="draftState()"
    [isInWatchlist]="isInWatchlistForTemplate"
    (close)="closePlayerSelection()"
    (searchQueryChange)="searchQuery.set($event)"
    (positionChange)="selectedPosition.set($event)"
    (playerSelect)="selectedPlayer.set($event)"
    (draftPlayer)="makePick($event)"
    (addToWatchlist)="addToWatchlist($event)"
    (toggleWatchlist)="toggleWatchlist($event)"
  ></app-player-selection>
</div>
